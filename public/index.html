<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Saved</title>
    <link rel="stylesheet" href="/css/uikit.min.css">
    <link rel="stylesheet" href="/css/badges.css">
    <link rel="stylesheet" href="/css/main.css">
</head>

<body>
    <div id="app">
        <!-- HEADER -->
        <div
            class="uk-section uk-section-xsmall uk-section-default uk-margin-small-bottom uk-margin-remove-top uk-padding-remove-bottom uk-padding-remove-top">
            <div class="uk-grid uk-grid-small uk-padding-remove uk-margin-remove" uk-grid>
                <div class="uk-width-1-3 uk-margin-remove uk-padding-remove">
                    <h1>Saved</h1>
                </div>
                <div class="uk-width-2-3 uk-margin-remove uk-padding-remove">
                    <template v-for="tag in tags" :key="tag.label">
                        <a :href="badgeHref(tag.label)" :class="badgeClass(tag.label)"
                            class="uk-text-uppercase">{{ tag.label }}</a>
                    </template>
                </div>
            </div>
        </div>
        <!-- BODY (card view) -->
        <div class="uk-section uk-section-xsmall uk-section-muted">
            <div class="uk-container">
                <div class="uk-grid-small uk-grid-match uk-child-width-1-3@s uk-flex-center" uk-grid>
                </div>
            </div>
        </div>

    </div>

    <!-- TEMPLATES begin -->
    <script type="text/x-template" id="card-template">
        <div>
            <div class="uk-card uk-card-default uk-card-hover trigger" data-id="{{id}}">
                <!-- Card Header -->
                <div class="uk-card-header card-head-bg">
                <h4 class="uk-text-truncate">
                    <a href="/contents/{{_id}}" class="uk-link-heading" uk-tooltip="{{escape title}}">
                    {{title}}
                    </a>
                </h4>
                <div class="uk-grid-small uk-flex-middle" uk-grid>
                    <div class="uk-width-expand uk-text-meta uk-text-nowrap">
                    <span uk-tooltip="Date saved">{{moment created_at}}</span>
                    </div>
                    <div class="uk-width-auto uk-text-meta">
                    <span uk-icon="clock"></span>
                    <span uk-tooltip="Aproximate reading time">{{readtime reading_time}}min</span>
                    </div>
                </div>
                </div>
                <!-- Card Body -->
                <div class="uk-card-body uk-background-cover uk-light uk-height-small uk-padding-remove"
                data-src="{{cached preview_picture id tags}}" uk-img>
                    <div class="uk-width-auto uk-float-right">
                    {{#each tags}}
                    <span class="uk-link-muted badge badge-{{this}} uk-text-uppercase">{{this}}</span>
                    {{/each}}
                    </div>
                </div>
                <!-- Card Footer -->
                <div class="uk-card-footer uk-text-meta uk-padding-small">
                <div class="uk-grid-small uk-flex-middle" uk-grid>
                    <div class="uk-width-expand">
                    <a href="{{url}}" target="_blank" uk-tooltip="Go to saved link"><span uk-icon="link"></span> {{domain_name}}</a>
                    </div>
                    <div class="uk-width-auto">
                    <a href="/starred/{{id}}" uk-tooltip="Toggle Starred">
                        {{> star is_starred=is_starred}}
                    </a>
                    <a href="/archived/{{id}}" uk-tooltip="Archive or Unarchive">
                        {{> check is_archived=is_archived}}
                    </a>
                    <a href="/remove/{{id}}" uk-tooltip="Delete Completely">
                        <span uk-icon="icon: trash"></span>
                    </a>
                    </div>
                </div>
                </div>
            </div>
        </div>
    </script>

    <script type="text/x-template" id="row-template">
        <tr>
            <td class="uk-text-nowrap">
                <a href="/contents/{{_id}}" class="uk-link-heading" uk-tooltip="{{escape title}}">
                {{title}}
                </a>
                    <a href="{{url}}" target="_blank" uk-icon="icon: link" uk-tooltip="Original Link"></a>
            </td>
            <td class="uk-text-nowrap">
                <span uk-tooltip="Date saved">{{shortMoment created_at}}</span>
            </td>
            <td class="uk-text-nowrap">
                {{#each tags}}
                <span class="uk-link-muted badge badge-{{this}} uk-text-uppercase">{{this}}</span>
                {{/each}}
            </td>
            <td class="uk-text-nowrap">
                <a href="/starred/{{id}}" uk-tooltip="Toggle Starred">
                {{> star is_starred=is_starred}}
                </a>
                <a href="/archived/{{id}}" uk-tooltip="Archive or Unarchive">
                {{> check is_archived=is_archived}}
                </a>
                <a href="/remove/{{id}}" uk-tooltip="Delete Completely">
                <span uk-icon="icon: trash"></span>
                </a>
            </td>
        </tr>
    </script>

    <script type="text/x-template" id="check-template">
        <svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg" data-svg="check"> 
            <polyline 
              fill="none" 
              stroke="{{ stroke }}" 
              stroke-width="1.1" 
              points="4,10 8,15 17,4"></polyline>
        </svg>
    </script>

    <script type="text/x-template" id="star-template">
        <svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg" data-svg="star">
            <polygon 
              fill="{{ fill }}" 
              stroke="#999" 
              stroke-width="1.01" 
              points="10 2 12.63 7.27 18.5 8.12 14.25 12.22 15.25 18 10 15.27 4.75 18 5.75 12.22 1.5 8.12 7.37 7.27"></polygon>
        </svg>
    </script>

    <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
    <script src="/js/uikit/uikit.min.js"></script>
    <script src="/js/uikit/uikit-icons.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/axios/0.19.0/axios.min.js"></script>
    <script src="/js/app.js"></script>
</body>

</html>